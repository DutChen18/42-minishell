sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_progname="${0##*/}"
                    lx_normal: ts_progname=
                      tk_null: 0##*/
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_author="Simon Chiang"
                    lx_normal: ts_author=Simon Chiang
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_version="2.0.4"
                    lx_normal: ts_version=2.0.4
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_release_date="2020-05-21"
                    lx_normal: ts_release_date=2020-05-21
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_url="http://github.com/thinkerbot/ts"
                    lx_normal: ts_url=http://github.com/thinkerbot/ts
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_usage
                  lx_normal: ts_usage
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: [
                                                        lx_normal: [
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: ts
                                                          lx_normal: ts
                                                      sx_word:
                                                        tk_word: =
                                                          lx_normal: =
                                                      sx_word:
                                                        tk_word: "$ts_progname"
                                                          lx_normal: $ts_progname
                                                      sx_word:
                                                        tk_word: ]
                                                          lx_normal: ]
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_prefix
                                                    sx_assword:
                                                      tk_assword: ts_argstr="[TEST_FILES...]"
                                                        lx_normal: ts_argstr=[TEST_FILES...]
                                    sx_else_part
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_prefix
                                                      sx_assword:
                                                        tk_assword: ts_argstr="[TEST_NAMES...]"
                                                          lx_normal: ts_argstr=[TEST_NAMES...]
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: printf
                                        lx_normal: printf
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: "usage: ts [-acdehmrsvw] [-t TS_TMP_DIR] %s

  Tests shell scripts.  Options control the output format.  Artifacts are
  written to the tmp dir and can be removed with the -r flag.  To debug
  a failing test try running it with -e to see how it would look if you
  executed the script in a shell manually (after which you can check exit
  status as normal), or by using the -d flag to trace execution.

    ts test/script*             # run multiple test scripts
    ./test/script               # run a single test script
    ./test/script test_a        # run a single test
    ./test/script -e test_a     # execute a test as a script

  See \`man ts\` for writing test scripts.

options:

    -a   show all tests
    -c   color output
    -d   debugger output
    -e   exec test
    -h   prints this help
    -m   monitor output
    -q   quiet output (hide stderr)
    -r   remove tmp dir (rm -r)
    -s   stream output (implies -a)
    -t   set the tmp dir (default tmp)
    -v   verbose output (show stderr, default on)
    -w   raw output

version: %s - %s
"
                                          lx_normal: usage: ts [-acdehmrsvw] [-t TS_TMP_DIR] %s

  Tests shell scripts.  Options control the output format.  Artifacts are
  written to the tmp dir and can be removed with the -r flag.  To debug
  a failing test try running it with -e to see how it would look if you
  executed the script in a shell manually (after which you can check exit
  status as normal), or by using the -d flag to trace execution.

    ts test/script*             # run multiple test scripts
    ./test/script               # run a single test script
    ./test/script test_a        # run a single test
    ./test/script -e test_a     # execute a test as a script

  See `man ts` for writing test scripts.

options:

    -a   show all tests
    -c   color output
    -d   debugger output
    -e   exec test
    -h   prints this help
    -m   monitor output
    -q   quiet output (hide stderr)
    -r   remove tmp dir (rm -r)
    -s   stream output (implies -a)
    -t   set the tmp dir (default tmp)
    -v   verbose output (show stderr, default on)
    -w   raw output

version: %s - %s

                                      sx_word:
                                        tk_word: "$ts_argstr"
                                          lx_normal: $ts_argstr
                                      sx_word:
                                        tk_word: "$ts_version"
                                          lx_normal: $ts_version
                                      sx_word:
                                        tk_word: "$ts_url"
                                          lx_normal: $ts_url
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: OPTIND=1
                    lx_normal: OPTIND=1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_args=""
                    lx_normal: ts_args=
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_while_clause
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_word:
                                tk_word: [
                                  lx_normal: [
                              sx_cmd_suffix
                                sx_word:
                                  tk_word: $OPTIND
                                    lx_normal: $OPTIND
                                sx_word:
                                  tk_word: -le
                                    lx_normal: -le
                                sx_word:
                                  tk_word: $#
                                    lx_normal: $#
                                sx_word:
                                  tk_word: ]
                                    lx_normal: ]
                sx_do_group
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_prefix
                                  sx_assword:
                                    tk_assword: ts_optcur="$OPTIND"
                                      lx_normal: ts_optcur=$OPTIND
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_prefix
                                    sx_assword:
                                      tk_assword: ts_option="-"
                                        lx_normal: ts_option=-
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: getopts
                                        lx_normal: getopts
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: "acdehmqrst:vw"
                                          lx_normal: acdehmqrst:vw
                                      sx_word:
                                        tk_word: ts_option
                                          lx_normal: ts_option
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_compound_cmd
                                      sx_if_clause
                                        sx_condition
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: [
                                                            lx_normal: [
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: "$ts_option"
                                                              lx_normal: $ts_option
                                                          sx_word:
                                                            tk_word: !=
                                                              lx_normal: !=
                                                          sx_word:
                                                            tk_word: "-"
                                                              lx_normal: -
                                                          sx_word:
                                                            tk_word: ]
                                                              lx_normal: ]
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: [
                                                              lx_normal: [
                                                          sx_cmd_suffix
                                                            sx_word:
                                                              tk_word: "$ts_option"
                                                                lx_normal: $ts_option
                                                            sx_word:
                                                              tk_word: !=
                                                                lx_normal: !=
                                                            sx_word:
                                                              tk_word: "?"
                                                                lx_normal: ?
                                                            sx_word:
                                                              tk_word: ]
                                                                lx_normal: ]
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_compound_cmd
                                                      sx_case_clause
                                                        sx_word:
                                                          tk_word: "$ts_option"
                                                            lx_normal: $ts_option
                                                        sx_case_list
                                                          sx_case_item
                                                            sx_pattern:
                                                              tk_word: a
                                                                lx_normal: a
                                                            sx_compound_list
                                                              sx_term
                                                                sx_and_or
                                                                  sx_pipeline
                                                                    sx_pipe_sequence
                                                                      sx_cmd
                                                                        sx_simple_cmd
                                                                          sx_cmd_prefix
                                                                            sx_assword:
                                                                              tk_assword: TS_FILTER=false
                                                                                lx_normal: TS_FILTER=false
                                                          sx_case_list
                                                            sx_case_item
                                                              sx_pattern:
                                                                tk_word: c
                                                                  lx_normal: c
                                                              sx_compound_list
                                                                sx_term
                                                                  sx_and_or
                                                                    sx_pipeline
                                                                      sx_pipe_sequence
                                                                        sx_cmd
                                                                          sx_simple_cmd
                                                                            sx_cmd_prefix
                                                                              sx_assword:
                                                                                tk_assword: TS_COLOR=true
                                                                                  lx_normal: TS_COLOR=true
                                                            sx_case_list
                                                              sx_case_item
                                                                sx_pattern:
                                                                  tk_word: d
                                                                    lx_normal: d
                                                                sx_compound_list
                                                                  sx_term
                                                                    sx_and_or
                                                                      sx_pipeline
                                                                        sx_pipe_sequence
                                                                          sx_cmd
                                                                            sx_simple_cmd
                                                                              sx_cmd_prefix
                                                                                sx_assword:
                                                                                  tk_assword: TS_DEBUG=true
                                                                                    lx_normal: TS_DEBUG=true
                                                                    sx_term
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_simple_cmd
                                                                                sx_cmd_prefix
                                                                                  sx_assword:
                                                                                    tk_assword: TS_MODE=verbose
                                                                                      lx_normal: TS_MODE=verbose
                                                              sx_case_list
                                                                sx_case_item
                                                                  sx_pattern:
                                                                    tk_word: e
                                                                      lx_normal: e
                                                                  sx_compound_list
                                                                    sx_term
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_simple_cmd
                                                                                sx_cmd_prefix
                                                                                  sx_assword:
                                                                                    tk_assword: TS_REPORT=execute
                                                                                      lx_normal: TS_REPORT=execute
                                                                sx_case_list
                                                                  sx_case_item
                                                                    sx_pattern:
                                                                      tk_word: h
                                                                        lx_normal: h
                                                                    sx_compound_list
                                                                      sx_term
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: ts_usage
                                                                                      lx_normal: ts_usage
                                                                        sx_term
                                                                          sx_and_or
                                                                            sx_pipeline
                                                                              sx_pipe_sequence
                                                                                sx_cmd
                                                                                  sx_simple_cmd
                                                                                    sx_cmd_word:
                                                                                      tk_word: exit
                                                                                        lx_normal: exit
                                                                                    sx_cmd_suffix
                                                                                      sx_word:
                                                                                        tk_word: 0
                                                                                          lx_normal: 0
                                                                  sx_case_list
                                                                    sx_case_item
                                                                      sx_pattern:
                                                                        tk_word: m
                                                                          lx_normal: m
                                                                      sx_compound_list
                                                                        sx_term
                                                                          sx_and_or
                                                                            sx_pipeline
                                                                              sx_pipe_sequence
                                                                                sx_cmd
                                                                                  sx_simple_cmd
                                                                                    sx_cmd_prefix
                                                                                      sx_assword:
                                                                                        tk_assword: TS_REPORT=monitor
                                                                                          lx_normal: TS_REPORT=monitor
                                                                    sx_case_list
                                                                      sx_case_item
                                                                        sx_pattern:
                                                                          tk_word: q
                                                                            lx_normal: q
                                                                        sx_compound_list
                                                                          sx_term
                                                                            sx_and_or
                                                                              sx_pipeline
                                                                                sx_pipe_sequence
                                                                                  sx_cmd
                                                                                    sx_simple_cmd
                                                                                      sx_cmd_prefix
                                                                                        sx_assword:
                                                                                          tk_assword: TS_MODE=quiet
                                                                                            lx_normal: TS_MODE=quiet
                                                                      sx_case_list
                                                                        sx_case_item
                                                                          sx_pattern:
                                                                            tk_word: r
                                                                              lx_normal: r
                                                                          sx_compound_list
                                                                            sx_term
                                                                              sx_and_or
                                                                                sx_pipeline
                                                                                  sx_pipe_sequence
                                                                                    sx_cmd
                                                                                      sx_simple_cmd
                                                                                        sx_cmd_prefix
                                                                                          sx_assword:
                                                                                            tk_assword: TS_REMOVE_TMP_DIR=true
                                                                                              lx_normal: TS_REMOVE_TMP_DIR=true
                                                                        sx_case_list
                                                                          sx_case_item
                                                                            sx_pattern:
                                                                              tk_word: s
                                                                                lx_normal: s
                                                                            sx_compound_list
                                                                              sx_term
                                                                                sx_and_or
                                                                                  sx_pipeline
                                                                                    sx_pipe_sequence
                                                                                      sx_cmd
                                                                                        sx_simple_cmd
                                                                                          sx_cmd_prefix
                                                                                            sx_assword:
                                                                                              tk_assword: TS_REPORT=stream
                                                                                                lx_normal: TS_REPORT=stream
                                                                                sx_term
                                                                                  sx_and_or
                                                                                    sx_pipeline
                                                                                      sx_pipe_sequence
                                                                                        sx_cmd
                                                                                          sx_simple_cmd
                                                                                            sx_cmd_prefix
                                                                                              sx_assword:
                                                                                                tk_assword: TS_FILTER=false
                                                                                                  lx_normal: TS_FILTER=false
                                                                          sx_case_list
                                                                            sx_case_item
                                                                              sx_pattern:
                                                                                tk_word: t
                                                                                  lx_normal: t
                                                                              sx_compound_list
                                                                                sx_term
                                                                                  sx_and_or
                                                                                    sx_pipeline
                                                                                      sx_pipe_sequence
                                                                                        sx_cmd
                                                                                          sx_simple_cmd
                                                                                            sx_cmd_prefix
                                                                                              sx_assword:
                                                                                                tk_assword: TS_TMP_DIR="$OPTARG"
                                                                                                  lx_normal: TS_TMP_DIR=$OPTARG
                                                                            sx_case_list
                                                                              sx_case_item
                                                                                sx_pattern:
                                                                                  tk_word: v
                                                                                    lx_normal: v
                                                                                sx_compound_list
                                                                                  sx_term
                                                                                    sx_and_or
                                                                                      sx_pipeline
                                                                                        sx_pipe_sequence
                                                                                          sx_cmd
                                                                                            sx_simple_cmd
                                                                                              sx_cmd_prefix
                                                                                                sx_assword:
                                                                                                  tk_assword: TS_MODE=verbose
                                                                                                    lx_normal: TS_MODE=verbose
                                                                              sx_case_list
                                                                                sx_case_item
                                                                                  sx_pattern:
                                                                                    tk_word: w
                                                                                      lx_normal: w
                                                                                  sx_compound_list
                                                                                    sx_term
                                                                                      sx_and_or
                                                                                        sx_pipeline
                                                                                          sx_pipe_sequence
                                                                                            sx_cmd
                                                                                              sx_simple_cmd
                                                                                                sx_cmd_prefix
                                                                                                  sx_assword:
                                                                                                    tk_assword: TS_REPORT=raw
                                                                                                      lx_normal: TS_REPORT=raw
                                                                                sx_case_list
                                                                                  sx_case_item
                                                                                    sx_pattern:
                                                                                      tk_word: *
                                                                                        lx_normal: *
                                                                                    sx_compound_list
                                                                                      sx_term
                                                                                        sx_and_or
                                                                                          sx_pipeline
                                                                                            sx_pipe_sequence
                                                                                              sx_cmd
                                                                                                sx_simple_cmd
                                                                                                  sx_cmd_word:
                                                                                                    tk_word: ts_usage
                                                                                                      lx_normal: ts_usage
                                                                                              sx_pipe_sequence
                                                                                                sx_cmd
                                                                                                  sx_simple_cmd
                                                                                                    sx_cmd_word:
                                                                                                      tk_word: head
                                                                                                        lx_normal: head
                                                                                                    sx_cmd_suffix
                                                                                                      sx_word:
                                                                                                        tk_word: -n
                                                                                                          lx_normal: -n
                                                                                                      sx_word:
                                                                                                        tk_word: 1
                                                                                                          lx_normal: 1
                                                                                        sx_term
                                                                                          sx_and_or
                                                                                            sx_pipeline
                                                                                              sx_pipe_sequence
                                                                                                sx_cmd
                                                                                                  sx_simple_cmd
                                                                                                    sx_cmd_word:
                                                                                                      tk_word: exit
                                                                                                        lx_normal: exit
                                                                                                    sx_cmd_suffix
                                                                                                      sx_word:
                                                                                                        tk_word: 2
                                                                                                          lx_normal: 2
                                        sx_else_part
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_compound_cmd
                                                        sx_if_clause
                                                          sx_condition
                                                            sx_compound_list
                                                              sx_term
                                                                sx_and_or
                                                                  sx_pipeline
                                                                    sx_pipe_sequence
                                                                      sx_cmd
                                                                        sx_simple_cmd
                                                                          sx_cmd_word:
                                                                            tk_word: [
                                                                              lx_normal: [
                                                                          sx_cmd_suffix
                                                                            sx_word:
                                                                              tk_word: "$(eval printf "%s" "\${$ts_optcur}")"
                                                                                lx_normal: 
                                                                                  sx_complete_cmdlst
                                                                                    sx_complete_cmd
                                                                                      sx_list
                                                                                        sx_and_or
                                                                                          sx_pipeline
                                                                                            sx_pipe_sequence
                                                                                              sx_cmd
                                                                                                sx_simple_cmd
                                                                                                  sx_cmd_word:
                                                                                                    tk_word: eval
                                                                                                      lx_normal: eval
                                                                                                  sx_cmd_suffix
                                                                                                    sx_word:
                                                                                                      tk_word: printf
                                                                                                        lx_normal: printf
                                                                                                    sx_word:
                                                                                                      tk_word: "%s"
                                                                                                        lx_normal: %s
                                                                                                    sx_word:
                                                                                                      tk_word: "\${$ts_optcur}"
                                                                                                        lx_normal: ${$ts_optcur}
                                                                                lx_normal: 
                                                                            sx_word:
                                                                              tk_word: =
                                                                                lx_normal: =
                                                                            sx_word:
                                                                              tk_word: "--"
                                                                                lx_normal: --
                                                                            sx_word:
                                                                              tk_word: ]
                                                                                lx_normal: ]
                                                          sx_compound_list
                                                            sx_term
                                                              sx_and_or
                                                                sx_pipeline
                                                                  sx_pipe_sequence
                                                                    sx_cmd
                                                                      sx_simple_cmd
                                                                        sx_cmd_prefix
                                                                          sx_assword:
                                                                            tk_assword: ts_optcur="$#"
                                                                              lx_normal: ts_optcur=$#
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_compound_cmd
                                                          sx_while_clause
                                                            sx_compound_list
                                                              sx_term
                                                                sx_and_or
                                                                  sx_pipeline
                                                                    sx_pipe_sequence
                                                                      sx_cmd
                                                                        sx_simple_cmd
                                                                          sx_cmd_word:
                                                                            tk_word: [
                                                                              lx_normal: [
                                                                          sx_cmd_suffix
                                                                            sx_word:
                                                                              tk_word: $OPTIND
                                                                                lx_normal: $OPTIND
                                                                            sx_word:
                                                                              tk_word: -le
                                                                                lx_normal: -le
                                                                            sx_word:
                                                                              tk_word: $ts_optcur
                                                                                lx_normal: $ts_optcur
                                                                            sx_word:
                                                                              tk_word: ]
                                                                                lx_normal: ]
                                                            sx_do_group
                                                              sx_compound_list
                                                                sx_term
                                                                  sx_and_or
                                                                    sx_pipeline
                                                                      sx_pipe_sequence
                                                                        sx_cmd
                                                                          sx_simple_cmd
                                                                            sx_cmd_prefix
                                                                              sx_assword:
                                                                                tk_assword: ts_args="$ts_args \"\${$OPTIND}\""
                                                                                  lx_normal: ts_args=$ts_args "${$OPTIND}"
                                                                  sx_term
                                                                    sx_and_or
                                                                      sx_pipeline
                                                                        sx_pipe_sequence
                                                                          sx_cmd
                                                                            sx_simple_cmd
                                                                              sx_cmd_prefix
                                                                                sx_assword:
                                                                                  tk_assword: OPTIND=$(($OPTIND + 1))
                                                                                    lx_normal: OPTIND=
                                                                                      tk_null: $OPTIND + 1
                                                                                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: eval
                  lx_normal: eval
              sx_cmd_suffix
                sx_word:
                  tk_word: set
                    lx_normal: set
                sx_word:
                  tk_word: --
                    lx_normal: --
                sx_word:
                  tk_word: $ts_args
                    lx_normal: $ts_args
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_USR_DIR="${TS_USR_DIR:-$(pwd)}"
                    lx_normal: TS_USR_DIR=
                      tk_null: TS_USR_DIR:-$(pwd)
                          sx_complete_cmdlst
                            sx_complete_cmd
                              sx_list
                                sx_and_or
                                  sx_pipeline
                                    sx_pipe_sequence
                                      sx_cmd
                                        sx_simple_cmd
                                          sx_cmd_word:
                                            tk_word: pwd
                                              lx_normal: pwd
                        lx_normal: 
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_TMP_DIR="${TS_TMP_DIR:-$TS_USR_DIR/tmp}"
                    lx_normal: TS_TMP_DIR=
                      tk_null: TS_TMP_DIR:-$TS_USR_DIR/tmp
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_COLOR=${TS_COLOR:-false}
                    lx_normal: TS_COLOR=
                      tk_null: TS_COLOR:-false
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_DEBUG=${TS_DEBUG:-false}
                    lx_normal: TS_DEBUG=
                      tk_null: TS_DEBUG:-false
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_FILTER=${TS_FILTER:-true}
                    lx_normal: TS_FILTER=
                      tk_null: TS_FILTER:-true
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_REPORT=${TS_REPORT:-monitor}
                    lx_normal: TS_REPORT=
                      tk_null: TS_REPORT:-monitor
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_MODE=${TS_MODE:-verbose}
                    lx_normal: TS_MODE=
                      tk_null: TS_MODE:-verbose
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_REMOVE_TMP_DIR=${TS_REMOVE_TMP_DIR:-false}
                    lx_normal: TS_REMOVE_TMP_DIR=
                      tk_null: TS_REMOVE_TMP_DIR:-false
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_PASS="${TS_PASS:-[32m}"
                    lx_normal: TS_PASS=
                      tk_null: TS_PASS:-[32m
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_FAIL="${TS_FAIL:-[1;31m}"
                    lx_normal: TS_FAIL=
                      tk_null: TS_FAIL:-[1;31m
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_NORM="${TS_NORM:-[0m}"
                    lx_normal: TS_NORM=
                      tk_null: TS_NORM:-[0m
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: TS_SKIP="${TS_SKIP:-[1;33m}"
                    lx_normal: TS_SKIP=
                      tk_null: TS_SKIP:-[1;33m
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: mkdir
                  lx_normal: mkdir
              sx_cmd_suffix
                sx_word:
                  tk_word: -p
                    lx_normal: -p
                sx_word:
                  tk_word: "$TS_TMP_DIR"
                    lx_normal: $TS_TMP_DIR
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_status_file="$TS_TMP_DIR/status"
                    lx_normal: ts_status_file=$TS_TMP_DIR/status
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_monitor_file="$TS_TMP_DIR/monitor"
                    lx_normal: ts_monitor_file=$TS_TMP_DIR/monitor
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_skip_file="$TS_TMP_DIR/skips"
                    lx_normal: ts_skip_file=$TS_TMP_DIR/skips
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_if_clause
                sx_condition
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: [
                                    lx_normal: [
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: execute
                                      lx_normal: execute
                                  sx_word:
                                    tk_word: =
                                      lx_normal: =
                                  sx_word:
                                    tk_word: "$TS_REPORT"
                                      lx_normal: $TS_REPORT
                                  sx_word:
                                    tk_word: ]
                                      lx_normal: ]
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: [
                                      lx_normal: [
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: ts
                                        lx_normal: ts
                                    sx_word:
                                      tk_word: =
                                        lx_normal: =
                                    sx_word:
                                      tk_word: "$ts_progname"
                                        lx_normal: $ts_progname
                                    sx_word:
                                      tk_word: ]
                                        lx_normal: ]
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_word:
                                tk_word: printf
                                  lx_normal: printf
                              sx_cmd_suffix
                                sx_word:
                                  tk_word: --
                                    lx_normal: --
                                sx_word:
                                  tk_word: "error: -e can only be used when executing test scripts directly\n"
                                    lx_normal: error: -e can only be used when executing test scripts directlyn
                                sx_io_redirect
                                  sx_io_file
                                    sx_greatand:
                                      op_greatand: >&
                                    sx_filename:
                                      tk_word: 2
                                        lx_normal: 2
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: exit
                                    lx_normal: exit
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: 1
                                      lx_normal: 1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_guess_awk_opts
                  lx_normal: ts_guess_awk_opts
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: awk
                                                        lx_normal: awk
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: -Winteractive
                                                          lx_normal: -Winteractive
                                                      sx_io_redirect
                                                        sx_io_file
                                                          sx_lessand:
                                                            op_lessand: <&
                                                          sx_filename:
                                                            tk_word: -
                                                              lx_normal: -
                                                      sx_io_redirect
                                                        sx_io_file
                                                          sx_great:
                                                            op_great: >
                                                          sx_filename:
                                                            tk_word: /dev/null
                                                              lx_normal: /dev/null
                                                      sx_io_redirect
                                                        sx_io_number:
                                                          tk_ionumber: 2
                                                            lx_normal: 2
                                                        sx_io_file
                                                          sx_greatand:
                                                            op_greatand: >&
                                                          sx_filename:
                                                            tk_word: 1
                                                              lx_normal: 1
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_word:
                                                    tk_word: printf
                                                      lx_normal: printf
                                                  sx_cmd_suffix
                                                    sx_word:
                                                      tk_word: --
                                                        lx_normal: --
                                                    sx_word:
                                                      tk_word: "%s\n"
                                                        lx_normal: %sn
                                                    sx_word:
                                                      tk_word: -Winteractive
                                                        lx_normal: -Winteractive
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: export
                  lx_normal: export
              sx_cmd_suffix
                sx_word:
                  tk_word: ts_awk_opts="${ts_awk_opts:-$(ts_guess_awk_opts)}"
                    lx_normal: ts_awk_opts=
                      tk_null: ts_awk_opts:-$(ts_guess_awk_opts)
                          sx_complete_cmdlst
                            sx_complete_cmd
                              sx_list
                                sx_and_or
                                  sx_pipeline
                                    sx_pipe_sequence
                                      sx_cmd
                                        sx_simple_cmd
                                          sx_cmd_word:
                                            tk_word: ts_guess_awk_opts
                                              lx_normal: ts_guess_awk_opts
                        lx_normal: 
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_pattern
                  lx_normal: ts_pattern
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: [
                                                        lx_normal: [
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: 0
                                                          lx_normal: 0
                                                      sx_word:
                                                        tk_word: -ne
                                                          lx_normal: -ne
                                                      sx_word:
                                                        tk_word: $#
                                                          lx_normal: $#
                                                      sx_word:
                                                        tk_word: ]
                                                          lx_normal: ]
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_word:
                                                    tk_word: printf
                                                      lx_normal: printf
                                                  sx_cmd_suffix
                                                    sx_word:
                                                      tk_word: "%s"
                                                        lx_normal: %s
                                                    sx_word:
                                                      tk_word: "$1"
                                                        lx_normal: $1
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: shift
                                                        lx_normal: shift
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: 1
                                                          lx_normal: 1
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_compound_cmd
                                                      sx_if_clause
                                                        sx_condition
                                                          sx_compound_list
                                                            sx_term
                                                              sx_and_or
                                                                sx_pipeline
                                                                  sx_pipe_sequence
                                                                    sx_cmd
                                                                      sx_simple_cmd
                                                                        sx_cmd_word:
                                                                          tk_word: [
                                                                            lx_normal: [
                                                                        sx_cmd_suffix
                                                                          sx_word:
                                                                            tk_word: 0
                                                                              lx_normal: 0
                                                                          sx_word:
                                                                            tk_word: -ne
                                                                              lx_normal: -ne
                                                                          sx_word:
                                                                            tk_word: $#
                                                                              lx_normal: $#
                                                                          sx_word:
                                                                            tk_word: ]
                                                                              lx_normal: ]
                                                        sx_compound_list
                                                          sx_term
                                                            sx_and_or
                                                              sx_pipeline
                                                                sx_pipe_sequence
                                                                  sx_cmd
                                                                    sx_simple_cmd
                                                                      sx_cmd_word:
                                                                        tk_word: printf
                                                                          lx_normal: printf
                                                                      sx_cmd_suffix
                                                                        sx_word:
                                                                          tk_word: "|%s"
                                                                            lx_normal: |%s
                                                                        sx_word:
                                                                          tk_word: "$@"
                                                                            lx_normal: $@
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_list
                  lx_normal: ts_list
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_prefix
                                    sx_assword:
                                      tk_assword: ts_file="$1"
                                        lx_normal: ts_file=$1
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: shift
                                        lx_normal: shift
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: 1
                                          lx_normal: 1
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_compound_cmd
                                      sx_if_clause
                                        sx_condition
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: [
                                                            lx_normal: [
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: $#
                                                              lx_normal: $#
                                                          sx_word:
                                                            tk_word: -eq
                                                              lx_normal: -eq
                                                          sx_word:
                                                            tk_word: 0
                                                              lx_normal: 0
                                                          sx_word:
                                                            tk_word: ]
                                                              lx_normal: ]
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_simple_cmd
                                                      sx_cmd_word:
                                                        tk_word: grep
                                                          lx_normal: grep
                                                      sx_cmd_suffix
                                                        sx_word:
                                                          tk_word: -onE
                                                            lx_normal: -onE
                                                        sx_word:
                                                          tk_word: "^[[:space:]]*(${ts_test_pattern:-test_\w+})[[:space:]]*\(\)"
                                                            lx_normal: ^[[:space:]]*(
                                                              tk_null: ts_test_pattern:-test_\w+
                                                            lx_normal: )[[:space:]]*()
                                                        sx_word:
                                                          tk_word: /dev/null
                                                            lx_normal: /dev/null
                                                        sx_word:
                                                          tk_word: "$ts_file"
                                                            lx_normal: $ts_file
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: sed
                                                            lx_normal: sed
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: -e
                                                              lx_normal: -e
                                                          sx_word:
                                                            tk_word: 's/^\([^:]*\):\([0-9]\{1,\}\):[[:space:]]*\([^ (]\{1,\}\).*/\3 \1:\2/'
                                                              lx_normal: s/^\([^:]*\):\([0-9]\{1,\}\):[[:space:]]*\([^ (]\{1,\}\).*/\3 \1:\2/
                                        sx_else_part
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: ts_list
                                                            lx_normal: ts_list
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: "$@"
                                                              lx_normal: $@
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: awk
                                                              lx_normal: awk
                                                          sx_cmd_suffix
                                                            sx_word:
                                                              tk_word: -v
                                                                lx_normal: -v
                                                            sx_word:
                                                              tk_word: file="$ts_file"
                                                                lx_normal: file=$ts_file
                                                            sx_word:
                                                              tk_word: '{ $2=file " -> " $2; print }'
                                                                lx_normal: { $2=file " -> " $2; print }
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_stream
                  lx_normal: ts_stream
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: rm
                                      lx_normal: rm
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: "$ts_status_file"
                                        lx_normal: $ts_status_file
                                    sx_io_redirect
                                      sx_io_number:
                                        tk_ionumber: 2
                                          lx_normal: 2
                                      sx_io_file
                                        sx_great:
                                          op_great: >
                                        sx_filename:
                                          tk_word: /dev/null
                                            lx_normal: /dev/null
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: awk
                                        lx_normal: awk
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: $ts_awk_opts
                                          lx_normal: $ts_awk_opts
                                      sx_word:
                                        tk_word: -v
                                          lx_normal: -v
                                      sx_word:
                                        tk_word: status_file="$ts_status_file"
                                          lx_normal: status_file=$ts_status_file
                                      sx_word:
                                        tk_word: '
function readbytes (bytes) {
  # ignore current line
  $0=""

  # play a trick so bytes does not reset the var upon
  # getline (issue with alpine + gawk)
  bytes=bytes

  # read bytes
  while(getline == 1 && (bytes -= length($0) + 1) > 0) {
    print "  " $0
  }

  if(length($0) > 0) {
    print "  " substr($0, 1, bytes + length($0) + 1)
    $0=""
  }
}
function format (status, descr, bytes) {
  printf("%s %s\n", status, descr)
  readbytes(bytes)
  printf("\n")
}
BEGIN { npass=nskip=nfail=0 }
/^\[/ { descr=$0 }
/^P/  { format("P", descr, $2); fflush(); npass++; }
/^F/  { format("F", descr, $2); fflush(); nfail++; }
/^S/  { format("S", descr, $2); fflush(); nskip++; }
END   { printf("%d %d %d\n", npass, nfail, nskip) >> status_file }
'
                                          lx_normal: 
function readbytes (bytes) {
  # ignore current line
  $0=""

  # play a trick so bytes does not reset the var upon
  # getline (issue with alpine + gawk)
  bytes=bytes

  # read bytes
  while(getline == 1 && (bytes -= length($0) + 1) > 0) {
    print "  " $0
  }

  if(length($0) > 0) {
    print "  " substr($0, 1, bytes + length($0) + 1)
    $0=""
  }
}
function format (status, descr, bytes) {
  printf("%s %s\n", status, descr)
  readbytes(bytes)
  printf("\n")
}
BEGIN { npass=nskip=nfail=0 }
/^\[/ { descr=$0 }
/^P/  { format("P", descr, $2); fflush(); npass++; }
/^F/  { format("F", descr, $2); fflush(); nfail++; }
/^S/  { format("S", descr, $2); fflush(); nskip++; }
END   { printf("%d %d %d\n", npass, nfail, nskip) >> status_file }

sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_monitor
                  lx_normal: ts_monitor
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: rm
                                      lx_normal: rm
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: "$ts_monitor_file"
                                        lx_normal: $ts_monitor_file
                                    sx_io_redirect
                                      sx_io_number:
                                        tk_ionumber: 2
                                          lx_normal: 2
                                      sx_io_file
                                        sx_great:
                                          op_great: >
                                        sx_filename:
                                          tk_word: /dev/null
                                            lx_normal: /dev/null
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: touch
                                        lx_normal: touch
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: "$ts_monitor_file"
                                          lx_normal: $ts_monitor_file
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_simple_cmd
                                      sx_cmd_word:
                                        tk_word: awk
                                          lx_normal: awk
                                      sx_cmd_suffix
                                        sx_word:
                                          tk_word: $ts_awk_opts
                                            lx_normal: $ts_awk_opts
                                        sx_word:
                                          tk_word: -v
                                            lx_normal: -v
                                        sx_word:
                                          tk_word: "monitor_file=$ts_monitor_file"
                                            lx_normal: monitor_file=$ts_monitor_file
                                        sx_word:
                                          tk_word: '
    BEGIN { ORS = "" };
    { print $0 "\n" >> monitor_file };
    /^P/ { print "."; fflush() };
    /^F/ { print "F"; fflush() };
    /^S/ { print "-"; fflush() };
  '
                                            lx_normal: 
    BEGIN { ORS = "" };
    { print $0 "\n" >> monitor_file };
    /^P/ { print "."; fflush() };
    /^F/ { print "F"; fflush() };
    /^S/ { print "-"; fflush() };
  
                                        sx_io_redirect
                                          sx_io_file
                                            sx_greatand:
                                              op_greatand: >&
                                            sx_filename:
                                              tk_word: 2
                                                lx_normal: 2
                            sx_term
                              sx_and_or
                                sx_pipeline
                                  sx_pipe_sequence
                                    sx_cmd
                                      sx_simple_cmd
                                        sx_cmd_word:
                                          tk_word: printf
                                            lx_normal: printf
                                        sx_cmd_suffix
                                          sx_word:
                                            tk_word: "\n\n"
                                              lx_normal: nn
                                          sx_io_redirect
                                            sx_io_file
                                              sx_greatand:
                                                op_greatand: >&
                                              sx_filename:
                                                tk_word: 2
                                                  lx_normal: 2
                              sx_term
                                sx_and_or
                                  sx_pipeline
                                    sx_pipe_sequence
                                      sx_cmd
                                        sx_simple_cmd
                                          sx_cmd_word:
                                            tk_word: cat
                                              lx_normal: cat
                                          sx_cmd_suffix
                                            sx_word:
                                              tk_word: "$ts_monitor_file"
                                                lx_normal: $ts_monitor_file
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_filter
                  lx_normal: ts_filter
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: [
                                                        lx_normal: [
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: true
                                                          lx_normal: true
                                                      sx_word:
                                                        tk_word: =
                                                          lx_normal: =
                                                      sx_word:
                                                        tk_word: "$TS_FILTER"
                                                          lx_normal: $TS_FILTER
                                                      sx_word:
                                                        tk_word: ]
                                                          lx_normal: ]
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_word:
                                                    tk_word: awk
                                                      lx_normal: awk
                                                  sx_cmd_suffix
                                                    sx_word:
                                                      tk_word: $ts_awk_opts
                                                        lx_normal: $ts_awk_opts
                                                    sx_word:
                                                      tk_word: '/^[FS] /,/^$/ { print $0; fflush(); }'
                                                        lx_normal: /^[FS] /,/^$/ { print $0; fflush(); }
                                    sx_else_part
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: cat
                                                        lx_normal: cat
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_color
                  lx_normal: ts_color
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: [
                                                        lx_normal: [
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: true
                                                          lx_normal: true
                                                      sx_word:
                                                        tk_word: =
                                                          lx_normal: =
                                                      sx_word:
                                                        tk_word: "$TS_COLOR"
                                                          lx_normal: $TS_COLOR
                                                      sx_word:
                                                        tk_word: ]
                                                          lx_normal: ]
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_word:
                                                    tk_word: awk
                                                      lx_normal: awk
                                                  sx_cmd_suffix
                                                    sx_word:
                                                      tk_word: $ts_awk_opts
                                                        lx_normal: $ts_awk_opts
                                                    sx_word:
                                                      tk_word: -v
                                                        lx_normal: -v
                                                    sx_word:
                                                      tk_word: norm="$TS_NORM"
                                                        lx_normal: norm=$TS_NORM
                                                    sx_word:
                                                      tk_word: -v
                                                        lx_normal: -v
                                                    sx_word:
                                                      tk_word: pass="$TS_PASS"
                                                        lx_normal: pass=$TS_PASS
                                                    sx_word:
                                                      tk_word: -v
                                                        lx_normal: -v
                                                    sx_word:
                                                      tk_word: skip="$TS_SKIP"
                                                        lx_normal: skip=$TS_SKIP
                                                    sx_word:
                                                      tk_word: -v
                                                        lx_normal: -v
                                                    sx_word:
                                                      tk_word: fail="$TS_FAIL"
                                                        lx_normal: fail=$TS_FAIL
                                                    sx_word:
                                                      tk_word: '
    /^P / { sub("P [[]", "[" pass); sub("]", norm "]"); }
    /^F / { sub("F [[]", "[" fail); sub("]", norm "]"); }
    /^S / { sub("S [[]", "[" skip); sub("]", norm "]"); }
    { print $0; fflush(); }'
                                                        lx_normal: 
    /^P / { sub("P [[]", "[" pass); sub("]", norm "]"); }
    /^F / { sub("F [[]", "[" fail); sub("]", norm "]"); }
    /^S / { sub("S [[]", "[" skip); sub("]", norm "]"); }
    { print $0; fflush(); }
                                    sx_else_part
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: cat
                                                        lx_normal: cat
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_format
                  lx_normal: ts_format
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_if_clause
                                    sx_condition
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: [
                                                        lx_normal: [
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: true
                                                          lx_normal: true
                                                      sx_word:
                                                        tk_word: =
                                                          lx_normal: =
                                                      sx_word:
                                                        tk_word: "$TS_COLOR"
                                                          lx_normal: $TS_COLOR
                                                      sx_word:
                                                        tk_word: ]
                                                          lx_normal: ]
                                    sx_compound_list
                                      sx_term
                                        sx_and_or
                                          sx_pipeline
                                            sx_pipe_sequence
                                              sx_cmd
                                                sx_simple_cmd
                                                  sx_cmd_word:
                                                    tk_word: ts_color
                                                      lx_normal: ts_color
                                    sx_else_part
                                      sx_compound_list
                                        sx_term
                                          sx_and_or
                                            sx_pipeline
                                              sx_pipe_sequence
                                                sx_cmd
                                                  sx_simple_cmd
                                                    sx_cmd_word:
                                                      tk_word: awk
                                                        lx_normal: awk
                                                    sx_cmd_suffix
                                                      sx_word:
                                                        tk_word: $ts_awk_opts
                                                          lx_normal: $ts_awk_opts
                                                      sx_word:
                                                        tk_word: '
    /^[PFS] / { status=$1; sub(". ", ""); }
    /^$/      { print status; }
    { print $0; fflush(); }'
                                                          lx_normal: 
    /^[PFS] / { status=$1; sub(". ", ""); }
    /^$/      { print status; }
    { print $0; fflush(); }
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_print_status
                  lx_normal: ts_print_status
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: awk
                                      lx_normal: awk
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: -v
                                        lx_normal: -v
                                    sx_word:
                                      tk_word: nsec="$1"
                                        lx_normal: nsec=$1
                                    sx_word:
                                      tk_word: '
BEGIN { npass=nskip=nfail=0 }
      { npass += $1; nfail+= $2; nskip += $3; }
END   { printf("%d pass %d fail %d skip %d s\n", npass, nfail, nskip, nsec); if(nfail > 0) exit 1 }
'
                                        lx_normal: 
BEGIN { npass=nskip=nfail=0 }
      { npass += $1; nfail+= $2; nskip += $3; }
END   { printf("%d pass %d fail %d skip %d s\n", npass, nfail, nskip, nsec); if(nfail > 0) exit 1 }

                                    sx_io_redirect
                                      sx_io_file
                                        sx_less:
                                          op_less: <
                                        sx_filename:
                                          tk_word: "$ts_status_file"
                                            lx_normal: $ts_status_file
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_prefix
                                      sx_assword:
                                        tk_assword: ts_exitstatus=$?
                                          lx_normal: ts_exitstatus=$?
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_compound_cmd
                                      sx_if_clause
                                        sx_condition
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: [
                                                            lx_normal: [
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: "true"
                                                              lx_normal: true
                                                          sx_word:
                                                            tk_word: =
                                                              lx_normal: =
                                                          sx_word:
                                                            tk_word: "$TS_REMOVE_TMP_DIR"
                                                              lx_normal: $TS_REMOVE_TMP_DIR
                                                          sx_word:
                                                            tk_word: ]
                                                              lx_normal: ]
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_simple_cmd
                                                      sx_cmd_word:
                                                        tk_word: rm
                                                          lx_normal: rm
                                                      sx_cmd_suffix
                                                        sx_word:
                                                          tk_word: -r
                                                            lx_normal: -r
                                                        sx_word:
                                                          tk_word: "$TS_TMP_DIR"
                                                            lx_normal: $TS_TMP_DIR
                            sx_term
                              sx_and_or
                                sx_pipeline
                                  sx_pipe_sequence
                                    sx_cmd
                                      sx_simple_cmd
                                        sx_cmd_word:
                                          tk_word: return
                                            lx_normal: return
                                        sx_cmd_suffix
                                          sx_word:
                                            tk_word: $ts_exitstatus
                                              lx_normal: $ts_exitstatus
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_report
                  lx_normal: ts_report
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_compound_cmd
                                  sx_case_clause
                                    sx_word:
                                      tk_word: "$TS_REPORT"
                                        lx_normal: $TS_REPORT
                                    sx_case_list
                                      sx_case_item
                                        sx_pattern:
                                          tk_word: execute
                                            lx_normal: execute
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_simple_cmd
                                                      sx_cmd_word:
                                                        tk_word: cat
                                                          lx_normal: cat
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: exit
                                                            lx_normal: exit
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: $(cat "$ts_status_file")
                                                              lx_normal: 
                                                                sx_complete_cmdlst
                                                                  sx_complete_cmd
                                                                    sx_list
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_simple_cmd
                                                                                sx_cmd_word:
                                                                                  tk_word: cat
                                                                                    lx_normal: cat
                                                                                sx_cmd_suffix
                                                                                  sx_word:
                                                                                    tk_word: "$ts_status_file"
                                                                                      lx_normal: $ts_status_file
                                                              lx_normal: 
                                      sx_case_list
                                        sx_case_item
                                          sx_pattern:
                                            tk_word: monitor
                                              lx_normal: monitor
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_prefix
                                                          sx_assword:
                                                            tk_assword: ts_start_time=${SECONDS:-1}
                                                              lx_normal: ts_start_time=
                                                                tk_null: SECONDS:-1
                                                              lx_normal: 
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: ts_stream
                                                              lx_normal: ts_stream
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: ts_monitor
                                                                lx_normal: ts_monitor
                                                        sx_pipe_sequence
                                                          sx_cmd
                                                            sx_simple_cmd
                                                              sx_cmd_word:
                                                                tk_word: ts_filter
                                                                  lx_normal: ts_filter
                                                          sx_pipe_sequence
                                                            sx_cmd
                                                              sx_simple_cmd
                                                                sx_cmd_word:
                                                                  tk_word: ts_format
                                                                    lx_normal: ts_format
                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_prefix
                                                              sx_assword:
                                                                tk_assword: ts_end_time=${SECONDS:-0}
                                                                  lx_normal: ts_end_time=
                                                                    tk_null: SECONDS:-0
                                                                  lx_normal: 
                                                  sx_term
                                                    sx_and_or
                                                      sx_pipeline
                                                        sx_pipe_sequence
                                                          sx_cmd
                                                            sx_simple_cmd
                                                              sx_cmd_word:
                                                                tk_word: ts_print_status
                                                                  lx_normal: ts_print_status
                                                              sx_cmd_suffix
                                                                sx_word:
                                                                  tk_word: "$(($ts_end_time - $ts_start_time))"
                                                                    lx_normal: 
                                                                      tk_null: $ts_end_time - $ts_start_time
                                                                    lx_normal: 
                                                                sx_io_redirect
                                                                  sx_io_file
                                                                    sx_greatand:
                                                                      op_greatand: >&
                                                                    sx_filename:
                                                                      tk_word: 2
                                                                        lx_normal: 2
                                        sx_case_list
                                          sx_case_item
                                            sx_pattern:
                                              tk_word: stream
                                                lx_normal: stream
                                            sx_compound_list
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: ts_stream
                                                              lx_normal: ts_stream
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: ts_filter
                                                                lx_normal: ts_filter
                                                        sx_pipe_sequence
                                                          sx_cmd
                                                            sx_simple_cmd
                                                              sx_cmd_word:
                                                                tk_word: ts_color
                                                                  lx_normal: ts_color
                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: ts_print_status
                                                                lx_normal: ts_print_status
                                                            sx_cmd_suffix
                                                              sx_io_redirect
                                                                sx_io_file
                                                                  sx_great:
                                                                    op_great: >
                                                                  sx_filename:
                                                                    tk_word: /dev/null
                                                                      lx_normal: /dev/null
                                          sx_case_list
                                            sx_case_item
                                              sx_pattern:
                                                tk_word: raw
                                                  lx_normal: raw
                                              sx_compound_list
                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: cat
                                                                lx_normal: cat
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: rm
                  lx_normal: rm
              sx_cmd_suffix
                sx_word:
                  tk_word: -r
                    lx_normal: -r
                sx_word:
                  tk_word: "$ts_test_dir"
                    lx_normal: $ts_test_dir
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: printf
                  lx_normal: printf
              sx_cmd_suffix
                sx_word:
                  tk_word: "could not remove existing test dir: %s\n"
                    lx_normal: could not remove existing test dir: %sn
                sx_word:
                  tk_word: "$ts_test_dir"
                    lx_normal: $ts_test_dir
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: exit
                  lx_normal: exit
              sx_cmd_suffix
                sx_word:
                  tk_word: 1
                    lx_normal: 1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: rm
                  lx_normal: rm
              sx_cmd_suffix
                sx_word:
                  tk_word: "$ts_skip_file"
                    lx_normal: $ts_skip_file
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: printf
                  lx_normal: printf
              sx_cmd_suffix
                sx_word:
                  tk_word: "could not remove skip file: %s\n"
                    lx_normal: could not remove skip file: %sn
                sx_word:
                  tk_word: "$ts_skip_file"
                    lx_normal: $ts_skip_file
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: exit
                  lx_normal: exit
              sx_cmd_suffix
                sx_word:
                  tk_word: 1
                    lx_normal: 1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: exec
                  lx_normal: exec
              sx_cmd_suffix
                sx_io_redirect
                  sx_io_file
                    sx_less:
                      op_less: <
                    sx_filename:
                      tk_word: /dev/null
                        lx_normal: /dev/null
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_if_clause
                sx_condition
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: [
                                    lx_normal: [
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: true
                                      lx_normal: true
                                  sx_word:
                                    tk_word: =
                                      lx_normal: =
                                  sx_word:
                                    tk_word: "$TS_DEBUG"
                                      lx_normal: $TS_DEBUG
                                  sx_word:
                                    tk_word: ]
                                      lx_normal: ]
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_word:
                                tk_word: set
                                  lx_normal: set
                              sx_cmd_suffix
                                sx_word:
                                  tk_word: -ux
                                    lx_normal: -ux
                sx_else_part
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: set
                                    lx_normal: set
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: -u
                                      lx_normal: -u
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: trap
                  lx_normal: trap
              sx_cmd_suffix
                sx_word:
                  tk_word: 'teardown'
                    lx_normal: teardown
                sx_word:
                  tk_word: EXIT
                    lx_normal: EXIT
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: setup
                  lx_normal: setup
      sx_and_or
        sx_pipeline
          sx_pipe_sequence
            sx_cmd
              sx_simple_cmd
                sx_cmd_word:
                  tk_word: "$ts_test_name"
                    lx_normal: $ts_test_name
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_exitstatus=$?
                    lx_normal: ts_exitstatus=$?
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: trap
                  lx_normal: trap
              sx_cmd_suffix
                sx_word:
                  tk_word: -
                    lx_normal: -
                sx_word:
                  tk_word: EXIT
                    lx_normal: EXIT
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: teardown
                  lx_normal: teardown
      sx_and_or
        sx_pipeline
          sx_pipe_sequence
            sx_cmd
              sx_simple_cmd
                sx_cmd_word:
                  tk_word: return
                    lx_normal: return
                sx_cmd_suffix
                  sx_word:
                    tk_word: $ts_exitstatus
                      lx_normal: $ts_exitstatus
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_if_clause
                sx_condition
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: [
                                    lx_normal: [
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: -e
                                      lx_normal: -e
                                  sx_word:
                                    tk_word: "$ts_skip_file"
                                      lx_normal: $ts_skip_file
                                  sx_word:
                                    tk_word: ]
                                      lx_normal: ]
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_prefix
                                sx_assword:
                                  tk_assword: ts_status=S
                                    lx_normal: ts_status=S
                sx_else_part
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_prefix
                                  sx_assword:
                                    tk_assword: ts_status=P
                                      lx_normal: ts_status=P
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_prefix
                sx_assword:
                  tk_assword: ts_status=F
                    lx_normal: ts_status=F
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: printf
                  lx_normal: printf
              sx_cmd_suffix
                sx_word:
                  tk_word: "%s %d\n%s\n"
                    lx_normal: %s %dn%sn
                sx_word:
                  tk_word: "$ts_status"
                    lx_normal: $ts_status
                sx_word:
                  tk_word: "${#ts_stdout}"
                    lx_normal: 
                      tk_null: #ts_stdout
                    lx_normal: 
                sx_word:
                  tk_word: "$ts_stdout"
                    lx_normal: $ts_stdout
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: ts_report
                  lx_normal: ts_report
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_src_test_files
                  lx_normal: ts_src_test_files
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: shift
                                      lx_normal: shift
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: 1
                                        lx_normal: 1
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_compound_cmd
                                    sx_for_clause
                                      sx_for_name:
                                        tk_name: ts_test_file
                                          lx_normal: ts_test_file
                                      sx_wordlist
                                        sx_word:
                                          tk_word: "$@"
                                            lx_normal: $@
                                      sx_do_group
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_simple_cmd
                                                      sx_cmd_prefix
                                                        sx_assword:
                                                          tk_assword: ts_prev="${ts_curr:-$0}"
                                                            lx_normal: ts_prev=
                                                              tk_null: ts_curr:-$0
                                                            lx_normal: 
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_prefix
                                                          sx_assword:
                                                            tk_assword: ts_curr="$ts_prev:$ts_test_file"
                                                              lx_normal: ts_curr=$ts_prev:$ts_test_file
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_prefix
                                                            sx_assword:
                                                              tk_assword: ts_test_files="${ts_test_files:-$0}
$ts_curr
"
                                                                lx_normal: ts_test_files=
                                                                  tk_null: ts_test_files:-$0
                                                                lx_normal: 
$ts_curr

                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: .
                                                                lx_normal: .
                                                            sx_cmd_suffix
                                                              sx_word:
                                                                tk_word: "$ts_test_file"
                                                                  lx_normal: $ts_test_file
                                                  sx_term
                                                    sx_and_or
                                                      sx_pipeline
                                                        sx_pipe_sequence
                                                          sx_cmd
                                                            sx_simple_cmd
                                                              sx_cmd_prefix
                                                                sx_assword:
                                                                  tk_assword: ts_curr="$ts_prev"
                                                                    lx_normal: ts_curr=$ts_prev
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_run_test_files
                  lx_normal: ts_run_test_files
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: export
                                      lx_normal: export
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: TS_USR_DIR
                                        lx_normal: TS_USR_DIR
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: export
                                        lx_normal: export
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: TS_TMP_DIR
                                          lx_normal: TS_TMP_DIR
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_simple_cmd
                                      sx_cmd_word:
                                        tk_word: export
                                          lx_normal: export
                                      sx_cmd_suffix
                                        sx_word:
                                          tk_word: TS_COLOR
                                            lx_normal: TS_COLOR
                            sx_term
                              sx_and_or
                                sx_pipeline
                                  sx_pipe_sequence
                                    sx_cmd
                                      sx_simple_cmd
                                        sx_cmd_word:
                                          tk_word: export
                                            lx_normal: export
                                        sx_cmd_suffix
                                          sx_word:
                                            tk_word: TS_FILTER
                                              lx_normal: TS_FILTER
                              sx_term
                                sx_and_or
                                  sx_pipeline
                                    sx_pipe_sequence
                                      sx_cmd
                                        sx_simple_cmd
                                          sx_cmd_word:
                                            tk_word: export
                                              lx_normal: export
                                          sx_cmd_suffix
                                            sx_word:
                                              tk_word: TS_MODE
                                                lx_normal: TS_MODE
                                sx_term
                                  sx_and_or
                                    sx_pipeline
                                      sx_pipe_sequence
                                        sx_cmd
                                          sx_simple_cmd
                                            sx_cmd_word:
                                              tk_word: export
                                                lx_normal: export
                                            sx_cmd_suffix
                                              sx_word:
                                                tk_word: TS_DEBUG
                                                  lx_normal: TS_DEBUG
                                  sx_term
                                    sx_and_or
                                      sx_pipeline
                                        sx_pipe_sequence
                                          sx_cmd
                                            sx_compound_cmd
                                              sx_for_clause
                                                sx_for_name:
                                                  tk_name: ts_test_file
                                                    lx_normal: ts_test_file
                                                sx_wordlist
                                                  sx_word:
                                                    tk_word: "$@"
                                                      lx_normal: $@
                                                sx_do_group
                                                  sx_compound_list
                                                    sx_term
                                                      sx_and_or
                                                        sx_pipeline
                                                          sx_pipe_sequence
                                                            sx_cmd
                                                              sx_compound_cmd
                                                                sx_if_clause
                                                                  sx_condition
                                                                    sx_compound_list
                                                                      sx_term
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: [
                                                                                      lx_normal: [
                                                                                  sx_cmd_suffix
                                                                                    sx_word:
                                                                                      tk_word: -f
                                                                                        lx_normal: -f
                                                                                    sx_word:
                                                                                      tk_word: "$ts_test_file"
                                                                                        lx_normal: $ts_test_file
                                                                                    sx_word:
                                                                                      tk_word: ]
                                                                                        lx_normal: ]
                                                                  sx_compound_list
                                                                    sx_term
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_compound_cmd
                                                                                sx_if_clause
                                                                                  sx_condition
                                                                                    sx_compound_list
                                                                                      sx_term
                                                                                        sx_and_or
                                                                                          sx_pipeline
                                                                                            sx_pipe_sequence
                                                                                              sx_cmd
                                                                                                sx_simple_cmd
                                                                                                  sx_cmd_word:
                                                                                                    tk_word: [
                                                                                                      lx_normal: [
                                                                                                  sx_cmd_suffix
                                                                                                    sx_word:
                                                                                                      tk_word: -x
                                                                                                        lx_normal: -x
                                                                                                    sx_word:
                                                                                                      tk_word: "$ts_test_file"
                                                                                                        lx_normal: $ts_test_file
                                                                                                    sx_word:
                                                                                                      tk_word: ]
                                                                                                        lx_normal: ]
                                                                                  sx_compound_list
                                                                                    sx_term
                                                                                      sx_and_or
                                                                                        sx_pipeline
                                                                                          sx_pipe_sequence
                                                                                            sx_cmd
                                                                                              sx_compound_cmd
                                                                                                sx_if_clause
                                                                                                  sx_condition
                                                                                                    sx_compound_list
                                                                                                      sx_term
                                                                                                        sx_and_or
                                                                                                          sx_pipeline
                                                                                                            sx_pipe_sequence
                                                                                                              sx_cmd
                                                                                                                sx_simple_cmd
                                                                                                                  sx_cmd_word:
                                                                                                                    tk_word: [
                                                                                                                      lx_normal: [
                                                                                                                  sx_cmd_suffix
                                                                                                                    sx_word:
                                                                                                                      tk_word: x"${ts_test_file}"
                                                                                                                        lx_normal: x
                                                                                                                          tk_null: ts_test_file
                                                                                                                        lx_normal: 
                                                                                                                    sx_word:
                                                                                                                      tk_word: =
                                                                                                                        lx_normal: =
                                                                                                                    sx_word:
                                                                                                                      tk_word: x"${ts_test_file#*/}"
                                                                                                                        lx_normal: x
                                                                                                                          tk_null: ts_test_file#*/
                                                                                                                        lx_normal: 
                                                                                                                    sx_word:
                                                                                                                      tk_word: ]
                                                                                                                        lx_normal: ]
                                                                                                  sx_compound_list
                                                                                                    sx_term
                                                                                                      sx_and_or
                                                                                                        sx_pipeline
                                                                                                          sx_pipe_sequence
                                                                                                            sx_cmd
                                                                                                              sx_simple_cmd
                                                                                                                sx_cmd_word:
                                                                                                                  tk_word: ./"$ts_test_file"
                                                                                                                    lx_normal: ./$ts_test_file
                                                                                                                sx_cmd_suffix
                                                                                                                  sx_word:
                                                                                                                    tk_word: -w
                                                                                                                      lx_normal: -w
                                                                                                  sx_else_part
                                                                                                    sx_compound_list
                                                                                                      sx_term
                                                                                                        sx_and_or
                                                                                                          sx_pipeline
                                                                                                            sx_pipe_sequence
                                                                                                              sx_cmd
                                                                                                                sx_simple_cmd
                                                                                                                  sx_cmd_word:
                                                                                                                    tk_word: "$ts_test_file"
                                                                                                                      lx_normal: $ts_test_file
                                                                                                                  sx_cmd_suffix
                                                                                                                    sx_word:
                                                                                                                      tk_word: -w
                                                                                                                        lx_normal: -w
                                                                                  sx_else_part
                                                                                    sx_compound_list
                                                                                      sx_term
                                                                                        sx_and_or
                                                                                          sx_pipeline
                                                                                            sx_pipe_sequence
                                                                                              sx_cmd
                                                                                                sx_simple_cmd
                                                                                                  sx_cmd_word:
                                                                                                    tk_word: printf
                                                                                                      lx_normal: printf
                                                                                                  sx_cmd_suffix
                                                                                                    sx_word:
                                                                                                      tk_word: "[%s] not executable\nS 0\n\n"
                                                                                                        lx_normal: [%s] not executablenS 0nn
                                                                                                    sx_word:
                                                                                                      tk_word: "$ts_test_file"
                                                                                                        lx_normal: $ts_test_file
                                                                  sx_elif_part
                                                                    sx_condition
                                                                      sx_compound_list
                                                                        sx_term
                                                                          sx_and_or
                                                                            sx_pipeline
                                                                              sx_pipe_sequence
                                                                                sx_cmd
                                                                                  sx_simple_cmd
                                                                                    sx_cmd_word:
                                                                                      tk_word: [
                                                                                        lx_normal: [
                                                                                    sx_cmd_suffix
                                                                                      sx_word:
                                                                                        tk_word: x-
                                                                                          lx_normal: x-
                                                                                      sx_word:
                                                                                        tk_word: =
                                                                                          lx_normal: =
                                                                                      sx_word:
                                                                                        tk_word: x"$ts_test_file"
                                                                                          lx_normal: x$ts_test_file
                                                                                      sx_word:
                                                                                        tk_word: ]
                                                                                          lx_normal: ]
                                                                    sx_compound_list
                                                                      sx_term
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: cat
                                                                                      lx_normal: cat
                                                                  sx_else_part
                                                                    sx_compound_list
                                                                      sx_term
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: printf
                                                                                      lx_normal: printf
                                                                                  sx_cmd_suffix
                                                                                    sx_word:
                                                                                      tk_word: "[%s] not a file\nS 0\n\n"
                                                                                        lx_normal: [%s] not a filenS 0nn
                                                                                    sx_word:
                                                                                      tk_word: "$ts_test_file"
                                                                                        lx_normal: $ts_test_file
                                          sx_pipe_sequence
                                            sx_cmd
                                              sx_simple_cmd
                                                sx_cmd_word:
                                                  tk_word: ts_report
                                                    lx_normal: ts_report
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: ts_function_exists
                  lx_normal: ts_function_exists
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: [
                                      lx_normal: [
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: x"$(command -v "$1" 2>/dev/null)"
                                        lx_normal: x
                                          sx_complete_cmdlst
                                            sx_complete_cmd
                                              sx_list
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: command
                                                              lx_normal: command
                                                          sx_cmd_suffix
                                                            sx_word:
                                                              tk_word: -v
                                                                lx_normal: -v
                                                            sx_word:
                                                              tk_word: "$1"
                                                                lx_normal: $1
                                                            sx_io_redirect
                                                              sx_io_number:
                                                                tk_ionumber: 2
                                                                  lx_normal: 2
                                                              sx_io_file
                                                                sx_great:
                                                                  op_great: >
                                                                sx_filename:
                                                                  tk_word: /dev/null
                                                                    lx_normal: /dev/null
                                        lx_normal: 
                                    sx_word:
                                      tk_word: =
                                        lx_normal: =
                                    sx_word:
                                      tk_word: x"$1"
                                        lx_normal: x$1
                                    sx_word:
                                      tk_word: ]
                                        lx_normal: ]
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: ts_function_exists
                  lx_normal: ts_function_exists
              sx_cmd_suffix
                sx_word:
                  tk_word: setup
                    lx_normal: setup
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: setup
                  lx_normal: setup
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: true
                                      lx_normal: true
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: ts_function_exists
                  lx_normal: ts_function_exists
              sx_cmd_suffix
                sx_word:
                  tk_word: teardown
                    lx_normal: teardown
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: teardown
                  lx_normal: teardown
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: true
                                      lx_normal: true
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: [
                  lx_normal: [
              sx_cmd_suffix
                sx_word:
                  tk_word: $ts_actual
                    lx_normal: $ts_actual
                sx_word:
                  tk_word: -eq
                    lx_normal: -eq
                sx_word:
                  tk_word: $ts_expected
                    lx_normal: $ts_expected
                sx_word:
                  tk_word: ]
                    lx_normal: ]
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: shift
                  lx_normal: shift
              sx_cmd_suffix
                sx_word:
                  tk_word: 2
                    lx_normal: 2
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_if_clause
                sx_condition
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: [
                                    lx_normal: [
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: $#
                                      lx_normal: $#
                                  sx_word:
                                    tk_word: -ne
                                      lx_normal: -ne
                                  sx_word:
                                    tk_word: 0
                                      lx_normal: 0
                                  sx_word:
                                    tk_word: ]
                                      lx_normal: ]
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_prefix
                                sx_assword:
                                  tk_assword: ts_msg=" ($*)"
                                    lx_normal: ts_msg= ($*)
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: printf
                  lx_normal: printf
              sx_cmd_suffix
                sx_word:
                  tk_word: "expected status %s but was %s%s\n"
                    lx_normal: expected status %s but was %s%sn
                sx_word:
                  tk_word: "$ts_expected"
                    lx_normal: $ts_expected
                sx_word:
                  tk_word: "$ts_actual"
                    lx_normal: $ts_actual
                sx_word:
                  tk_word: "${ts_msg:-}"
                    lx_normal: 
                      tk_null: ts_msg:-
                    lx_normal: 
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_simple_cmd
              sx_cmd_word:
                tk_word: exit
                  lx_normal: exit
              sx_cmd_suffix
                sx_word:
                  tk_word: 1
                    lx_normal: 1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: assert_output
                  lx_normal: assert_output
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_prefix
                                    sx_assword:
                                      tk_assword: ts_expected="$1"
                                        lx_normal: ts_expected=$1
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_prefix
                                      sx_assword:
                                        tk_assword: ts_actual="${2:--}"
                                          lx_normal: ts_actual=
                                            tk_null: 2:--
                                          lx_normal: 
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_compound_cmd
                                      sx_if_clause
                                        sx_condition
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_word:
                                                          tk_word: [
                                                            lx_normal: [
                                                        sx_cmd_suffix
                                                          sx_word:
                                                            tk_word: x-
                                                              lx_normal: x-
                                                          sx_word:
                                                            tk_word: =
                                                              lx_normal: =
                                                          sx_word:
                                                            tk_word: x"$ts_expected"
                                                              lx_normal: x$ts_expected
                                                          sx_word:
                                                            tk_word: ]
                                                              lx_normal: ]
                                        sx_compound_list
                                          sx_term
                                            sx_and_or
                                              sx_pipeline
                                                sx_pipe_sequence
                                                  sx_cmd
                                                    sx_simple_cmd
                                                      sx_cmd_prefix
                                                        sx_assword:
                                                          tk_assword: ts_expected=$(cat; printf x)
                                                            lx_normal: ts_expected=
                                                              sx_complete_cmdlst
                                                                sx_complete_cmd
                                                                  sx_list
                                                                    sx_and_or
                                                                      sx_pipeline
                                                                        sx_pipe_sequence
                                                                          sx_cmd
                                                                            sx_simple_cmd
                                                                              sx_cmd_word:
                                                                                tk_word: cat
                                                                                  lx_normal: cat
                                                                    sx_list
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_simple_cmd
                                                                                sx_cmd_word:
                                                                                  tk_word: printf
                                                                                    lx_normal: printf
                                                                                sx_cmd_suffix
                                                                                  sx_word:
                                                                                    tk_word: x
                                                                                      lx_normal: x
                                                            lx_normal: 
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_prefix
                                                          sx_assword:
                                                            tk_assword: ts_expected=${ts_expected%x}
                                                              lx_normal: ts_expected=
                                                                tk_null: ts_expected%x
                                                              lx_normal: 
                            sx_term
                              sx_and_or
                                sx_pipeline
                                  sx_pipe_sequence
                                    sx_cmd
                                      sx_compound_cmd
                                        sx_if_clause
                                          sx_condition
                                            sx_compound_list
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: [
                                                              lx_normal: [
                                                          sx_cmd_suffix
                                                            sx_word:
                                                              tk_word: x-
                                                                lx_normal: x-
                                                            sx_word:
                                                              tk_word: =
                                                                lx_normal: =
                                                            sx_word:
                                                              tk_word: x"$ts_actual"
                                                                lx_normal: x$ts_actual
                                                            sx_word:
                                                              tk_word: ]
                                                                lx_normal: ]
                                          sx_compound_list
                                            sx_term
                                              sx_and_or
                                                sx_pipeline
                                                  sx_pipe_sequence
                                                    sx_cmd
                                                      sx_simple_cmd
                                                        sx_cmd_prefix
                                                          sx_assword:
                                                            tk_assword: ts_actual=$(cat; printf x)
                                                              lx_normal: ts_actual=
                                                                sx_complete_cmdlst
                                                                  sx_complete_cmd
                                                                    sx_list
                                                                      sx_and_or
                                                                        sx_pipeline
                                                                          sx_pipe_sequence
                                                                            sx_cmd
                                                                              sx_simple_cmd
                                                                                sx_cmd_word:
                                                                                  tk_word: cat
                                                                                    lx_normal: cat
                                                                      sx_list
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: printf
                                                                                      lx_normal: printf
                                                                                  sx_cmd_suffix
                                                                                    sx_word:
                                                                                      tk_word: x
                                                                                        lx_normal: x
                                                              lx_normal: 
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_prefix
                                                            sx_assword:
                                                              tk_assword: ts_actual=${ts_actual%x}
                                                                lx_normal: ts_actual=
                                                                  tk_null: ts_actual%x
                                                                lx_normal: 
                              sx_term
                                sx_and_or
                                  sx_pipeline
                                    sx_pipe_sequence
                                      sx_cmd
                                        sx_compound_cmd
                                          sx_if_clause
                                            sx_condition
                                              sx_compound_list
                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: [
                                                                lx_normal: [
                                                            sx_cmd_suffix
                                                              sx_word:
                                                                tk_word: x"$ts_actual"
                                                                  lx_normal: x$ts_actual
                                                              sx_word:
                                                                tk_word: !=
                                                                  lx_normal: !=
                                                              sx_word:
                                                                tk_word: x"$ts_expected"
                                                                  lx_normal: x$ts_expected
                                                              sx_word:
                                                                tk_word: ]
                                                                  lx_normal: ]
                                            sx_compound_list
                                              sx_term
                                                sx_and_or
                                                  sx_pipeline
                                                    sx_pipe_sequence
                                                      sx_cmd
                                                        sx_simple_cmd
                                                          sx_cmd_word:
                                                            tk_word: mkdir
                                                              lx_normal: mkdir
                                                          sx_cmd_suffix
                                                            sx_word:
                                                              tk_word: -p
                                                                lx_normal: -p
                                                            sx_word:
                                                              tk_word: "$(dirname "$ts_test_dir")"
                                                                lx_normal: 
                                                                  sx_complete_cmdlst
                                                                    sx_complete_cmd
                                                                      sx_list
                                                                        sx_and_or
                                                                          sx_pipeline
                                                                            sx_pipe_sequence
                                                                              sx_cmd
                                                                                sx_simple_cmd
                                                                                  sx_cmd_word:
                                                                                    tk_word: dirname
                                                                                      lx_normal: dirname
                                                                                  sx_cmd_suffix
                                                                                    sx_word:
                                                                                      tk_word: "$ts_test_dir"
                                                                                        lx_normal: $ts_test_dir
                                                                lx_normal: 
                                                sx_term
                                                  sx_and_or
                                                    sx_pipeline
                                                      sx_pipe_sequence
                                                        sx_cmd
                                                          sx_simple_cmd
                                                            sx_cmd_word:
                                                              tk_word: printf
                                                                lx_normal: printf
                                                            sx_cmd_suffix
                                                              sx_word:
                                                                tk_word: "%s"
                                                                  lx_normal: %s
                                                              sx_word:
                                                                tk_word: "$ts_expected"
                                                                  lx_normal: $ts_expected
                                                              sx_io_redirect
                                                                sx_io_file
                                                                  sx_great:
                                                                    op_great: >
                                                                  sx_filename:
                                                                    tk_word: "$ts_test_dir.e.txt"
                                                                      lx_normal: $ts_test_dir.e.txt
                                                  sx_term
                                                    sx_and_or
                                                      sx_pipeline
                                                        sx_pipe_sequence
                                                          sx_cmd
                                                            sx_simple_cmd
                                                              sx_cmd_word:
                                                                tk_word: printf
                                                                  lx_normal: printf
                                                              sx_cmd_suffix
                                                                sx_word:
                                                                  tk_word: "%s"
                                                                    lx_normal: %s
                                                                sx_word:
                                                                  tk_word: "$ts_actual"
                                                                    lx_normal: $ts_actual
                                                                sx_io_redirect
                                                                  sx_io_file
                                                                    sx_great:
                                                                      op_great: >
                                                                    sx_filename:
                                                                      tk_word: "$ts_test_dir.a.txt"
                                                                        lx_normal: $ts_test_dir.a.txt
                                                    sx_term
                                                      sx_and_or
                                                        sx_pipeline
                                                          sx_pipe_sequence
                                                            sx_cmd
                                                              sx_simple_cmd
                                                                sx_cmd_word:
                                                                  tk_word: printf
                                                                    lx_normal: printf
                                                                sx_cmd_suffix
                                                                  sx_word:
                                                                    tk_word: "unequal output:\n"
                                                                      lx_normal: unequal output:n
                                                      sx_term
                                                        sx_and_or
                                                          sx_pipeline
                                                            sx_pipe_sequence
                                                              sx_cmd
                                                                sx_simple_cmd
                                                                  sx_cmd_word:
                                                                    tk_word: ${TS_DIFF:-diff}
                                                                      lx_normal: 
                                                                        tk_null: TS_DIFF:-diff
                                                                      lx_normal: 
                                                                  sx_cmd_suffix
                                                                    sx_word:
                                                                      tk_word: "$ts_test_dir.e.txt"
                                                                        lx_normal: $ts_test_dir.e.txt
                                                                    sx_word:
                                                                      tk_word: "$ts_test_dir.a.txt"
                                                                        lx_normal: $ts_test_dir.a.txt
                                                        sx_term
                                                          sx_and_or
                                                            sx_pipeline
                                                              sx_pipe_sequence
                                                                sx_cmd
                                                                  sx_simple_cmd
                                                                    sx_cmd_word:
                                                                      tk_word: return
                                                                        lx_normal: return
                                                                    sx_cmd_suffix
                                                                      sx_word:
                                                                        tk_word: 1
                                                                          lx_normal: 1
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_function_def
              sx_function_name:
                tk_name: skip
                  lx_normal: skip
              sx_function_body
                sx_compound_cmd
                  sx_brace_group
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_prefix
                                    sx_assword:
                                      tk_assword: ts_reason="${1:-no reason given}"
                                        lx_normal: ts_reason=
                                          tk_null: 1:-no reason given
                                        lx_normal: 
                        sx_term
                          sx_and_or
                            sx_pipeline
                              sx_pipe_sequence
                                sx_cmd
                                  sx_simple_cmd
                                    sx_cmd_word:
                                      tk_word: touch
                                        lx_normal: touch
                                    sx_cmd_suffix
                                      sx_word:
                                        tk_word: "$ts_skip_file"
                                          lx_normal: $ts_skip_file
                          sx_term
                            sx_and_or
                              sx_pipeline
                                sx_pipe_sequence
                                  sx_cmd
                                    sx_simple_cmd
                                      sx_cmd_word:
                                        tk_word: printf
                                          lx_normal: printf
                                      sx_cmd_suffix
                                        sx_word:
                                          tk_word: "%s\n"
                                            lx_normal: %sn
                                        sx_word:
                                          tk_word: "$ts_reason"
                                            lx_normal: $ts_reason
                            sx_term
                              sx_and_or
                                sx_pipeline
                                  sx_pipe_sequence
                                    sx_cmd
                                      sx_simple_cmd
                                        sx_cmd_word:
                                          tk_word: exit
                                            lx_normal: exit
                                        sx_cmd_suffix
                                          sx_word:
                                            tk_word: 0
                                              lx_normal: 0
sx_complete_cmd
  sx_list
    sx_and_or
      sx_pipeline
        sx_pipe_sequence
          sx_cmd
            sx_compound_cmd
              sx_if_clause
                sx_condition
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: [
                                    lx_normal: [
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: ts
                                      lx_normal: ts
                                  sx_word:
                                    tk_word: =
                                      lx_normal: =
                                  sx_word:
                                    tk_word: "$ts_progname"
                                      lx_normal: $ts_progname
                                  sx_word:
                                    tk_word: ]
                                      lx_normal: ]
                sx_compound_list
                  sx_term
                    sx_and_or
                      sx_pipeline
                        sx_pipe_sequence
                          sx_cmd
                            sx_simple_cmd
                              sx_cmd_word:
                                tk_word: ts_run_test_files
                                  lx_normal: ts_run_test_files
                              sx_cmd_suffix
                                sx_word:
                                  tk_word: "$@"
                                    lx_normal: $@
                sx_elif_part
                  sx_condition
                    sx_compound_list
                      sx_term
                        sx_and_or
                          sx_pipeline
                            sx_pipe_sequence
                              sx_cmd
                                sx_simple_cmd
                                  sx_cmd_word:
                                    tk_word: [
                                      lx_normal: [
                                  sx_cmd_suffix
                                    sx_word:
                                      tk_word: "."
                                        lx_normal: .
                                    sx_word:
                                      tk_word: =
                                        lx_normal: =
                                    sx_word:
                                      tk_word: "${1:-}"
                                        lx_normal: 
                                          tk_null: 1:-
                                        lx_normal: 
                                    sx_word:
                                      tk_word: ]
                                        lx_normal: ]
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: ts_src_test_files
                                    lx_normal: ts_src_test_files
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: "$@"
                                      lx_normal: $@
                sx_else_part
                  sx_compound_list
                    sx_term
                      sx_and_or
                        sx_pipeline
                          sx_pipe_sequence
                            sx_cmd
                              sx_simple_cmd
                                sx_cmd_word:
                                  tk_word: ts_run_test_suite
                                    lx_normal: ts_run_test_suite
                                sx_cmd_suffix
                                  sx_word:
                                    tk_word: "$@"
                                      lx_normal: $@
